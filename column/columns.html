<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>칼럼 | 콘텐츠 | 서울비디치과</title>
  <meta name="description" content="서울비디치과 의료진이 전하는 치과 건강 정보와 전문 칼럼. 임플란트, 교정, 잇몸 치료 등 다양한 치과 정보를 확인하세요.">
  <meta name="keywords" content="치과칼럼, 치과건강정보, 임플란트정보, 교정정보, 서울비디치과">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://bdbddc.com/column/columns.html">
  
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="칼럼 | 서울비디치과">
  <meta property="og:description" content="서울비디치과 의료진이 전하는 치과 건강 정보와 전문 칼럼">
  <meta property="og:url" content="https://bdbddc.com/column/columns.html">
  
  <link rel="icon" type="image/svg+xml" href="../images/icons/favicon.svg">
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  
  <link rel="stylesheet" href="../css/design-system.css">
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/gnb.css">
  
  <style>
    /* 페이지 기본 스타일 */
    .page-container {
      min-height: 100vh;
      background: linear-gradient(180deg, #0a0a0a 0%, #12100d 100%);
      color: #fff;
    }
    
    /* 히어로 섹션 */
    .page-hero {
      padding: 120px 5% 60px;
      text-align: center;
      background: linear-gradient(135deg, rgba(139, 90, 43, 0.15) 0%, rgba(201, 169, 98, 0.05) 100%);
      position: relative;
    }
    
    .page-hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(ellipse at center top, rgba(201, 169, 98, 0.1) 0%, transparent 70%);
      pointer-events: none;
    }
    
    .breadcrumb {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-bottom: 20px;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.5);
    }
    
    .breadcrumb a {
      color: rgba(255, 255, 255, 0.5);
      text-decoration: none;
      transition: color 0.3s;
    }
    
    .breadcrumb a:hover {
      color: #C9A962;
    }
    
    .page-hero h1 {
      font-size: clamp(2.5rem, 6vw, 3.5rem);
      font-weight: 800;
      margin-bottom: 16px;
      background: linear-gradient(135deg, #fff 0%, #C9A962 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .page-hero p {
      color: rgba(255, 255, 255, 0.7);
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
    }
    
    /* 탭 네비게이션 */
    .content-tabs {
      display: flex;
      justify-content: center;
      gap: 8px;
      padding: 24px 5%;
      background: rgba(0, 0, 0, 0.4);
      border-bottom: 1px solid rgba(201, 169, 98, 0.1);
      position: sticky;
      top: 72px;
      z-index: 100;
      backdrop-filter: blur(10px);
    }
    
    .tab-btn {
      padding: 12px 28px;
      background: transparent;
      border: 1px solid rgba(139, 90, 43, 0.3);
      border-radius: 50px;
      color: rgba(255, 255, 255, 0.7);
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    
    .tab-btn:hover {
      border-color: rgba(201, 169, 98, 0.6);
      color: #C9A962;
      background: rgba(201, 169, 98, 0.1);
    }
    
    .tab-btn.active {
      background: linear-gradient(135deg, #8B5A2B, #C9A962);
      border-color: transparent;
      color: #fff;
    }
    
    /* 카테고리 필터 */
    .category-filter {
      display: flex;
      justify-content: center;
      gap: 12px;
      padding: 20px 5%;
      flex-wrap: wrap;
      background: rgba(0, 0, 0, 0.2);
    }
    
    .category-btn {
      padding: 8px 20px;
      background: rgba(26, 20, 16, 0.6);
      border: 1px solid rgba(139, 90, 43, 0.2);
      border-radius: 30px;
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.85rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .category-btn:hover,
    .category-btn.active {
      border-color: #C9A962;
      color: #C9A962;
      background: rgba(201, 169, 98, 0.1);
    }
    
    /* 콘텐츠 영역 */
    .content-section {
      padding: 40px 5% 80px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .section-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .section-header h2 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 8px;
    }
    
    .section-header p {
      color: rgba(255, 255, 255, 0.6);
    }
    
    /* 인블로그 출처 표시 */
    .source-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      background: rgba(26, 20, 16, 0.8);
      border: 1px solid rgba(139, 90, 43, 0.2);
      border-radius: 8px;
      margin-bottom: 30px;
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.7);
    }
    
    /* 로딩 상태 */
    .loading-state {
      text-align: center;
      padding: 80px 20px;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(201, 169, 98, 0.2);
      border-top-color: #C9A962;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* 칼럼 그리드 */
    .columns-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 28px;
    }
    
    .column-card {
      background: rgba(26, 20, 16, 0.6);
      border: 1px solid rgba(139, 90, 43, 0.2);
      border-radius: 20px;
      overflow: hidden;
      transition: all 0.3s;
      cursor: pointer;
    }
    
    .column-card:hover {
      border-color: rgba(201, 169, 98, 0.5);
      transform: translateY(-8px);
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
    }
    
    .column-thumbnail {
      position: relative;
      height: 200px;
      background: linear-gradient(135deg, #1a1510 0%, #2a2015 100%);
      overflow: hidden;
    }
    
    .column-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s;
    }
    
    .column-card:hover .column-thumbnail img {
      transform: scale(1.08);
    }
    
    .column-thumbnail-placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      background: linear-gradient(135deg, rgba(139, 90, 43, 0.2) 0%, rgba(26, 20, 16, 0.8) 100%);
    }
    
    .column-thumbnail-placeholder i {
      font-size: 3.5rem;
      color: rgba(201, 169, 98, 0.4);
    }
    
    .column-category {
      position: absolute;
      top: 16px;
      left: 16px;
      padding: 6px 14px;
      background: linear-gradient(135deg, #8B5A2B, #C9A962);
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      color: #fff;
    }
    
    .column-content {
      padding: 24px;
    }
    
    .column-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: #fff;
      margin-bottom: 12px;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .column-excerpt {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.6);
      line-height: 1.7;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
      margin-bottom: 20px;
    }
    
    .column-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 16px;
      border-top: 1px solid rgba(139, 90, 43, 0.15);
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.5);
    }
    
    .column-date {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .column-read-more {
      color: #C9A962;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: gap 0.3s;
    }
    
    .column-card:hover .column-read-more {
      gap: 10px;
    }
    
    /* 빈 상태 */
    .empty-state {
      text-align: center;
      padding: 100px 20px;
    }
    
    .empty-state i {
      font-size: 5rem;
      color: rgba(201, 169, 98, 0.3);
      margin-bottom: 24px;
    }
    
    .empty-state h3 {
      color: #fff;
      font-size: 1.3rem;
      margin-bottom: 12px;
    }
    
    .empty-state p {
      color: rgba(255, 255, 255, 0.6);
    }
    
    /* 반응형 */
    @media (max-width: 768px) {
      .page-hero {
        padding: 100px 5% 40px;
      }
      
      .columns-grid {
        grid-template-columns: 1fr;
      }
      
      .content-tabs {
        gap: 6px;
        padding: 16px 3%;
      }
      
      .tab-btn {
        padding: 10px 18px;
        font-size: 0.85rem;
      }
      
      .category-filter {
        gap: 8px;
      }
      
      .category-btn {
        padding: 6px 14px;
        font-size: 0.8rem;
      }
    }
  </style>
</head>
<body class="page-container">
  <!-- 헤더 -->
  <div id="header-placeholder"></div>
  
  <!-- 히어로 -->
  <section class="page-hero">
    <div class="breadcrumb">
      <a href="../index.html">홈</a>
      <span>/</span>
      <span>칼럼</span>
    </div>
    <h1><i class="fas fa-pen-fancy" style="margin-right: 12px;"></i>칼럼</h1>
    <p>서울비디치과 의료진이 전하는 치과 건강 정보와 전문 칼럼</p>
  </section>
  
  <!-- 탭 네비게이션 (콘텐츠 3개) -->
  <nav class="content-tabs">
    <a href="columns.html" class="tab-btn active"><i class="fas fa-pen-fancy"></i> 칼럼</a>
    <a href="../video/index.html" class="tab-btn"><i class="fab fa-youtube"></i> 영상</a>
    <a href="../cases/gallery.html" class="tab-btn"><i class="fas fa-lock"></i> 비포/애프터</a>
  </nav>
  
  <!-- 카테고리 필터 -->
  <div class="category-filter">
    <button class="category-btn active" data-category="all">전체</button>
    <button class="category-btn" data-category="laminate">라미네이트</button>
    <button class="category-btn" data-category="invisalign">인비절라인</button>
    <button class="category-btn" data-category="implant">임플란트</button>
    <button class="category-btn" data-category="general">일반치료</button>
    <button class="category-btn" data-category="tips">치아관리팁</button>
  </div>
  
  <!-- 콘텐츠 -->
  <main class="content-section">
    <!-- 인블로그 출처 -->
    <div class="source-badge">
      <i class="fas fa-rss"></i>
      <span>인블로그(Inblog)에서 자동 연동됩니다</span>
    </div>
    
    <!-- 로딩 상태 -->
    <div id="loadingState" class="loading-state">
      <div class="loading-spinner"></div>
      <p>칼럼을 불러오는 중...</p>
    </div>
    
    <!-- 빈 상태 -->
    <div id="emptyState" class="empty-state" style="display: none;">
      <i class="fas fa-newspaper"></i>
      <h3>아직 등록된 칼럼이 없습니다</h3>
      <p>곧 유익한 치과 건강 정보로 찾아뵙겠습니다.</p>
    </div>
    
    <!-- 칼럼 그리드 -->
    <div id="columnsGrid" class="columns-grid" style="display: none;"></div>
  </main>
  
  <script src="../js/header-loader.js" defer></script>
  <script>
    /**
     * 인블로그(Inblog) RSS 피드 연동
     * 블로그 ID: bdbddc
     * 프록시 URL: https://proxy.inblog.dev/bdbddc
     */
    
    const INBLOG_RSS_URL = 'https://proxy.inblog.dev/bdbddc/rss';
    const CORS_PROXY = 'https://api.allorigins.win/raw?url=';
    
    const loadingState = document.getElementById('loadingState');
    const emptyState = document.getElementById('emptyState');
    const columnsGrid = document.getElementById('columnsGrid');
    
    // 카테고리 필터 이벤트
    document.querySelectorAll('.category-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        // 필터링 로직 (추후 구현)
      });
    });
    
    async function loadColumns() {
      showLoading();
      
      try {
        let response;
        try {
          response = await fetch(INBLOG_RSS_URL);
        } catch (e) {
          response = await fetch(CORS_PROXY + encodeURIComponent(INBLOG_RSS_URL));
        }
        
        if (!response.ok) throw new Error('RSS 피드를 가져올 수 없습니다');
        
        const xmlText = await response.text();
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
        
        if (xmlDoc.querySelector('parsererror')) throw new Error('RSS 파싱 오류');
        
        const items = xmlDoc.querySelectorAll('item');
        
        if (items.length === 0) {
          showEmpty();
          return;
        }
        
        renderColumns(items);
      } catch (error) {
        console.error('칼럼 로드 오류:', error);
        renderDemoColumns();
      }
    }
    
    function renderColumns(items) {
      columnsGrid.innerHTML = '';
      
      items.forEach(item => {
        const title = item.querySelector('title')?.textContent || '제목 없음';
        const link = item.querySelector('link')?.textContent || '#';
        const description = item.querySelector('description')?.textContent || '';
        const pubDate = item.querySelector('pubDate')?.textContent;
        const category = item.querySelector('category')?.textContent || '치과 정보';
        
        const imgMatch = description.match(/<img[^>]+src="([^">]+)"/);
        const thumbnail = imgMatch ? imgMatch[1] : null;
        const textContent = description.replace(/<[^>]+>/g, '').trim();
        const excerpt = textContent.substring(0, 120) + (textContent.length > 120 ? '...' : '');
        const date = pubDate ? formatDate(new Date(pubDate)) : '';
        
        const card = document.createElement('article');
        card.className = 'column-card';
        card.onclick = () => window.open(link, '_blank');
        
        card.innerHTML = `
          <div class="column-thumbnail">
            ${thumbnail 
              ? `<img src="${thumbnail}" alt="${title}" loading="lazy">`
              : `<div class="column-thumbnail-placeholder"><i class="fas fa-tooth"></i></div>`
            }
            <span class="column-category">${category}</span>
          </div>
          <div class="column-content">
            <h3 class="column-title">${title}</h3>
            <p class="column-excerpt">${excerpt}</p>
            <div class="column-meta">
              <span class="column-date"><i class="far fa-calendar-alt"></i> ${date}</span>
              <span class="column-read-more">자세히 보기 <i class="fas fa-arrow-right"></i></span>
            </div>
          </div>
        `;
        
        columnsGrid.appendChild(card);
      });
      
      showContent();
    }
    
    function renderDemoColumns() {
      const demoData = [
        { title: '투명교정 기간, 실제로 얼마나 걸릴까?', category: '인비절라인', excerpt: '인비절라인 교정 기간은 개인의 치아 상태에 따라 달라집니다. 일반적으로 6개월에서 2년 사이...', date: '2024.11.20' },
        { title: '임플란트 수명, 어떻게 하면 오래 유지할 수 있을까요?', category: '임플란트', excerpt: '임플란트는 적절한 관리만 하면 20년 이상 사용할 수 있습니다. 올바른 칫솔질과 정기 검진이 중요합니다.', date: '2024.11.15' },
        { title: '라미네이트 vs 레진, 어떤 것이 나에게 맞을까?', category: '라미네이트', excerpt: '치아 심미 치료를 고민하시는 분들을 위해 라미네이트와 레진의 차이점을 상세히 설명합니다.', date: '2024.11.10' },
        { title: '잇몸이 붓고 피가 나요 - 잇몸병의 신호와 예방법', category: '일반치료', excerpt: '잇몸에서 피가 나는 것은 잇몸병의 초기 신호일 수 있습니다. 조기 발견과 치료가 중요합니다.', date: '2024.11.05' },
        { title: '올바른 칫솔질 방법, 대부분이 잘못하고 있습니다', category: '치아관리팁', excerpt: '치과 의사가 알려주는 올바른 칫솔질 방법. 많은 분들이 잘못된 방법으로 양치를 하고 계십니다.', date: '2024.11.01' },
        { title: '사랑니, 꼭 뽑아야 하나요?', category: '일반치료', excerpt: '사랑니를 발치해야 하는 경우와 그렇지 않은 경우, 발치 후 주의사항에 대해 설명드립니다.', date: '2024.10.28' }
      ];
      
      columnsGrid.innerHTML = '';
      
      demoData.forEach(item => {
        const card = document.createElement('article');
        card.className = 'column-card';
        card.onclick = () => window.open('https://bdbddc.com', '_blank');
        
        card.innerHTML = `
          <div class="column-thumbnail">
            <div class="column-thumbnail-placeholder"><i class="fas fa-tooth"></i></div>
            <span class="column-category">${item.category}</span>
          </div>
          <div class="column-content">
            <h3 class="column-title">${item.title}</h3>
            <p class="column-excerpt">${item.excerpt}</p>
            <div class="column-meta">
              <span class="column-date"><i class="far fa-calendar-alt"></i> ${item.date}</span>
              <span class="column-read-more">자세히 보기 <i class="fas fa-arrow-right"></i></span>
            </div>
          </div>
        `;
        
        columnsGrid.appendChild(card);
      });
      
      showContent();
    }
    
    function showLoading() {
      loadingState.style.display = 'block';
      emptyState.style.display = 'none';
      columnsGrid.style.display = 'none';
    }
    
    function showEmpty() {
      loadingState.style.display = 'none';
      emptyState.style.display = 'block';
      columnsGrid.style.display = 'none';
    }
    
    function showContent() {
      loadingState.style.display = 'none';
      emptyState.style.display = 'none';
      columnsGrid.style.display = 'grid';
    }
    
    function formatDate(date) {
      if (isNaN(date)) return '';
      return `${date.getFullYear()}.${String(date.getMonth() + 1).padStart(2, '0')}.${String(date.getDate()).padStart(2, '0')}`;
    }
    
    document.addEventListener('DOMContentLoaded', loadColumns);
  </script>
</body>
</html>
