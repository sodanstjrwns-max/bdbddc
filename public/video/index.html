<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì˜ìƒ | ìœ íŠœë¸Œ ì±„ë„ | ì„œìš¸ë¹„ë””ì¹˜ê³¼</title>
  <meta name="description" content="ì„œìš¸ë¹„ë””ì¹˜ê³¼ ìœ íŠœë¸Œ ì˜ìƒì„ í•œëˆˆì—. ì„í”Œë€íŠ¸, êµì •, ì¹˜ë£Œ ê³¼ì • ë“± ë‹¤ì–‘í•œ ì¹˜ê³¼ ì •ë³´ ì˜ìƒì„ í™•ì¸í•˜ì„¸ìš”.">
  <meta name="keywords" content="ì¹˜ê³¼ì˜ìƒ, ìœ íŠœë¸Œì¹˜ê³¼, ì„í”Œë€íŠ¸ì˜ìƒ, êµì •ì˜ìƒ, ì„œìš¸ë¹„ë””ì¹˜ê³¼">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://bdbddc.com/video/index.html">
  
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="ì˜ìƒ | ì„œìš¸ë¹„ë””ì¹˜ê³¼">
  <meta property="og:description" content="ì„œìš¸ë¹„ë””ì¹˜ê³¼ ìœ íŠœë¸Œ ì˜ìƒì„ í•œëˆˆì—">
  <meta property="og:url" content="https://bdbddc.com/video/index.html">
  
  <link rel="icon" type="image/svg+xml" href="/images/icons/favicon.svg">
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet"></noscript>
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"></noscript>
  
  <link rel="stylesheet" href="/css/design-system.css">
  <link rel="stylesheet" href="/css/main.css?v=20241229">
  <link rel="stylesheet" href="/css/gnb.css">
  
  <style>
    /* í˜ì´ì§€ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    .page-container {
      min-height: 100vh;
      background: linear-gradient(180deg, #0a0a0a 0%, #12100d 100%);
      padding-top: 80px;
    }
    
    /* íˆì–´ë¡œ ì„¹ì…˜ */
    .page-hero {
      padding: 60px 5% 40px;
      text-align: center;
      background: linear-gradient(135deg, rgba(255, 0, 0, 0.1) 0%, rgba(139, 90, 43, 0.05) 100%);
    }
    
    .page-hero h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 800;
      margin-bottom: 16px;
      background: linear-gradient(135deg, #fff 0%, #ff0000 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .page-hero p {
      color: rgba(255, 255, 255, 0.7);
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
    }
    
    /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
    .content-tabs {
      display: flex;
      justify-content: center;
      gap: 12px;
      padding: 24px 5%;
      flex-wrap: wrap;
      background: rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(201, 169, 98, 0.1);
    }
    
    .tab-btn {
      padding: 12px 24px;
      background: rgba(26, 20, 16, 0.6);
      border: 1px solid rgba(139, 90, 43, 0.2);
      border-radius: 50px;
      color: rgba(255, 255, 255, 0.7);
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
    }
    
    .tab-btn:hover {
      border-color: rgba(201, 169, 98, 0.5);
      color: #C9A962;
    }
    
    .tab-btn.active {
      background: linear-gradient(135deg, #ff0000, #cc0000);
      border-color: transparent;
      color: #fff;
    }
    
    /* ì½˜í…ì¸  ì˜ì—­ */
    .content-section {
      padding: 40px 5% 80px;
      max-width: 1400px;
      margin: 0 auto;
    }
    
    /* ìœ íŠœë¸Œ ì±„ë„ ë§í¬ */
    .channel-link {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 16px 24px;
      background: linear-gradient(135deg, rgba(255, 0, 0, 0.2), rgba(200, 0, 0, 0.1));
      border: 1px solid rgba(255, 0, 0, 0.3);
      border-radius: 12px;
      margin-bottom: 30px;
      font-size: 0.95rem;
      color: #fff;
      text-decoration: none;
      transition: all 0.3s;
    }
    
    .channel-link:hover {
      background: linear-gradient(135deg, rgba(255, 0, 0, 0.3), rgba(200, 0, 0, 0.2));
      transform: translateY(-2px);
    }
    
    .channel-link i.fa-youtube {
      font-size: 1.5rem;
      color: #ff0000;
    }
    
    .channel-link span {
      color: rgba(255, 255, 255, 0.9);
    }
    
    .channel-link .btn-subscribe {
      padding: 8px 16px;
      background: #ff0000;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.85rem;
    }
    
    /* ë¡œë”© ìƒíƒœ */
    .loading-state {
      text-align: center;
      padding: 60px 20px;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(255, 0, 0, 0.2);
      border-top-color: #ff0000;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .loading-state p {
      color: rgba(255, 255, 255, 0.6);
    }
    
    /* ì˜ìƒ ê·¸ë¦¬ë“œ */
    .videos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 24px;
    }
    
    .video-card {
      background: rgba(26, 20, 16, 0.6);
      border: 1px solid rgba(139, 90, 43, 0.2);
      border-radius: 16px;
      overflow: hidden;
      transition: all 0.3s;
      cursor: pointer;
    }
    
    .video-card:hover {
      border-color: rgba(255, 0, 0, 0.4);
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }
    
    .video-thumbnail {
      position: relative;
      aspect-ratio: 16 / 9;
      background: #1a1510;
      overflow: hidden;
    }
    
    .video-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s;
    }
    
    .video-card:hover .video-thumbnail img {
      transform: scale(1.05);
    }
    
    .video-play-btn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 64px;
      height: 64px;
      background: rgba(255, 0, 0, 0.9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 1.5rem;
      transition: all 0.3s;
    }
    
    .video-card:hover .video-play-btn {
      background: #ff0000;
      transform: translate(-50%, -50%) scale(1.1);
    }
    
    .video-duration {
      position: absolute;
      bottom: 8px;
      right: 8px;
      padding: 4px 8px;
      background: rgba(0, 0, 0, 0.8);
      border-radius: 4px;
      font-size: 0.8rem;
      color: #fff;
      font-weight: 500;
    }
    
    .video-content {
      padding: 20px;
    }
    
    .video-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: #fff;
      margin-bottom: 10px;
      line-height: 1.4;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .video-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.85rem;
      color: rgba(255, 255, 255, 0.5);
    }
    
    .video-stats {
      display: flex;
      gap: 16px;
    }
    
    .video-stat {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    /* ì—ëŸ¬ ìƒíƒœ */
    .error-state {
      text-align: center;
      padding: 60px 20px;
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.2);
      border-radius: 16px;
    }
    
    .error-state i {
      font-size: 3rem;
      color: #ef4444;
      margin-bottom: 16px;
    }
    
    .error-state h3 {
      color: #fff;
      margin-bottom: 8px;
    }
    
    .error-state p {
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 20px;
    }
    
    .retry-btn {
      padding: 12px 24px;
      background: linear-gradient(135deg, #ff0000, #cc0000);
      border: none;
      border-radius: 8px;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .retry-btn:hover {
      transform: translateY(-2px);
    }
    
    /* ë¹ˆ ìƒíƒœ */
    .empty-state {
      text-align: center;
      padding: 80px 20px;
    }
    
    .empty-state i {
      font-size: 4rem;
      color: rgba(255, 0, 0, 0.3);
      margin-bottom: 20px;
    }
    
    .empty-state h3 {
      color: #fff;
      margin-bottom: 8px;
    }
    
    .empty-state p {
      color: rgba(255, 255, 255, 0.6);
    }
    
    /* ë¹„ë””ì˜¤ ëª¨ë‹¬ */
    .video-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 10000;
      display: none;
      align-items: center;
      justify-content: center;
    }
    
    .video-modal.active {
      display: flex;
    }
    
    .video-modal-content {
      width: 90%;
      max-width: 1000px;
      position: relative;
    }
    
    .video-modal-close {
      position: absolute;
      top: -50px;
      right: 0;
      background: none;
      border: none;
      color: #fff;
      font-size: 2rem;
      cursor: pointer;
    }
    
    .video-iframe-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      border-radius: 12px;
    }
    
    .video-iframe-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    
    /* ë°˜ì‘í˜• */
    @media (max-width: 768px) {
      .videos-grid {
        grid-template-columns: 1fr;
      }
      
      .page-hero {
        padding: 40px 5% 30px;
      }
      
      .tab-btn {
        padding: 10px 16px;
        font-size: 0.85rem;
      }
      
      .channel-link {
        flex-direction: column;
        text-align: center;
      }
    }
  </style>
</head>
<body class="page-container">
  <!-- í—¤ë”ëŠ” js/header-loader.jsë¡œ ë¡œë“œ -->
  <div id="header-placeholder"></div>
  
  <!-- íˆì–´ë¡œ -->
  <section class="page-hero">
    <h1><i class="fab fa-youtube" style="margin-right: 12px; color: #ff0000;"></i>ì˜ìƒ</h1>
    <p>ì„œìš¸ë¹„ë””ì¹˜ê³¼ ê³µì‹ ìœ íŠœë¸Œ ì±„ë„ì˜ ë‹¤ì–‘í•œ ì¹˜ê³¼ ì •ë³´ ì˜ìƒ</p>
  </section>
  
  <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (ì½˜í…ì¸  3ê°œ) -->
  <nav class="content-tabs">
    <a href="../column/columns.html" class="tab-btn"><i class="fas fa-pen-fancy"></i> ì¹¼ëŸ¼</a>
    <a href="/" class="tab-btn active"><i class="fab fa-youtube"></i> ì˜ìƒ</a>
    <a href="../cases/gallery.html" class="tab-btn"><i class="fas fa-lock"></i> ì¹˜ë£Œ ì‚¬ë¡€</a>
  </nav>
  
  <!-- ì½˜í…ì¸  -->
  <main class="content-section">
    <!-- ìœ íŠœë¸Œ ì±„ë„ ë§í¬ -->
    <a href="https://www.youtube.com/@seoulbddental" target="_blank" class="channel-link">
      <i class="fab fa-youtube"></i>
      <span>ì„œìš¸ë¹„ë””ì¹˜ê³¼ ê³µì‹ ìœ íŠœë¸Œ ì±„ë„</span>
      <span class="btn-subscribe">êµ¬ë…í•˜ê¸°</span>
    </a>
    
    <!-- ë¡œë”© ìƒíƒœ -->
    <div id="loadingState" class="loading-state">
      <div class="loading-spinner"></div>
      <p>ì˜ìƒì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
    </div>
    
    <!-- ì—ëŸ¬ ìƒíƒœ -->
    <div id="errorState" class="error-state" style="display: none;">
      <i class="fas fa-exclamation-circle"></i>
      <h3>ì˜ìƒì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
      <p>ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
      <button class="retry-btn" onclick="loadVideos()">
        <i class="fas fa-redo"></i> ë‹¤ì‹œ ì‹œë„
      </button>
    </div>
    
    <!-- ë¹ˆ ìƒíƒœ -->
    <div id="emptyState" class="empty-state" style="display: none;">
      <i class="fab fa-youtube"></i>
      <h3>ì•„ì§ ë“±ë¡ëœ ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤</h3>
      <p>ê³§ ìœ ìµí•œ ì¹˜ê³¼ ì •ë³´ ì˜ìƒìœ¼ë¡œ ì°¾ì•„ëµ™ê² ìŠµë‹ˆë‹¤.</p>
    </div>
    
    <!-- ì˜ìƒ ê·¸ë¦¬ë“œ -->
    <div id="videosGrid" class="videos-grid" style="display: none;"></div>
  </main>
  
  <!-- ë¹„ë””ì˜¤ ëª¨ë‹¬ -->
  <div class="video-modal" id="videoModal">
    <div class="video-modal-content">
      <button class="video-modal-close" onclick="closeVideoModal()">&times;</button>
      <div class="video-iframe-container">
        <iframe id="videoIframe" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
    </div>
  </div>
  
  <script src="/js/header-loader.js" defer></script>
  <script>
    /**
     * YouTube Data API v3 ì—°ë™
     * ì„œìš¸ë¹„ë””ì¹˜ê³¼ ìœ íŠœë¸Œ ì±„ë„ ì˜ìƒ ìë™ ë¡œë“œ
     */
    
    // YouTube ì„¤ì •
    const YOUTUBE_API_KEY = 'AIzaSyBp8ucGAs5BKeqtk7UPQNGMHA-qkflT5po';
    const YOUTUBE_CHANNEL_ID = 'UCakJiVviUa_FJvFWgW_FDBw';
    const MAX_RESULTS = 12;
    
    // DOM ìš”ì†Œ
    const loadingState = document.getElementById('loadingState');
    const errorState = document.getElementById('errorState');
    const emptyState = document.getElementById('emptyState');
    const videosGrid = document.getElementById('videosGrid');
    const videoModal = document.getElementById('videoModal');
    const videoIframe = document.getElementById('videoIframe');
    
    // ì˜ìƒ ë¡œë“œ (RSS í”¼ë“œ ìš°ì„ , API í´ë°±)
    async function loadVideos() {
      showLoading();
      
      try {
        // ë°©ë²• 1: RSS í”¼ë“œ ì‹œë„ (API í‚¤ ë¶ˆí•„ìš”)
        const rssSuccess = await loadFromRSS();
        if (rssSuccess) return;
        
        // ë°©ë²• 2: YouTube Data API ì‹œë„
        const searchResponse = await fetch(
          `https://www.googleapis.com/youtube/v3/search?` +
          `key=${YOUTUBE_API_KEY}` +
          `&channelId=${YOUTUBE_CHANNEL_ID}` +
          `&part=snippet,id` +
          `&order=date` +
          `&type=video` +
          `&maxResults=${MAX_RESULTS}`
        );
        
        if (!searchResponse.ok) {
          const errorData = await searchResponse.json();
          console.error('YouTube API ì˜¤ë¥˜:', errorData);
          throw new Error('YouTube API ì˜¤ë¥˜');
        }
        
        const searchData = await searchResponse.json();
        
        if (!searchData.items || searchData.items.length === 0) {
          showEmpty();
          return;
        }
        
        // ì˜ìƒ ID ëª©ë¡ ì¶”ì¶œ
        const videoIds = searchData.items.map(item => item.id.videoId).join(',');
        
        // ì˜ìƒ ìƒì„¸ ì •ë³´ (ì¬ìƒì‹œê°„, ì¡°íšŒìˆ˜) ê°€ì ¸ì˜¤ê¸°
        const detailsResponse = await fetch(
          `https://www.googleapis.com/youtube/v3/videos?` +
          `key=${YOUTUBE_API_KEY}` +
          `&id=${videoIds}` +
          `&part=statistics,contentDetails`
        );
        
        const detailsData = await detailsResponse.json();
        
        // ìƒì„¸ ì •ë³´ ë§¤í•‘ (ìˆì¸  í•„í„°ë§ìš© ì´ˆ ë‹¨ìœ„ ì¶”ê°€)
        const detailsMap = {};
        if (detailsData.items) {
          detailsData.items.forEach(item => {
            const durationISO = item.contentDetails?.duration;
            detailsMap[item.id] = {
              viewCount: item.statistics?.viewCount || 0,
              duration: parseDuration(durationISO),
              durationSeconds: parseDurationToSeconds(durationISO)
            };
          });
        }
        
        renderVideos(searchData.items, detailsMap);
        
      } catch (error) {
        console.error('ì˜ìƒ ë¡œë“œ ì˜¤ë¥˜:', error);
        // API ì‹¤íŒ¨ ì‹œ ë°ëª¨ ì˜ìƒ í‘œì‹œ
        loadDemoVideos();
      }
    }
    
    // RSS í”¼ë“œë¡œ ì˜ìƒ ë¡œë“œ (API í‚¤ ë¶ˆí•„ìš”)
    async function loadFromRSS() {
      // YouTube RSS í”¼ë“œ URL
      const rssUrl = `https://www.youtube.com/feeds/videos.xml?channel_id=${YOUTUBE_CHANNEL_ID}`;
      
      // ì—¬ëŸ¬ CORS í”„ë¡ì‹œ ì‹œë„
      const proxies = [
        `https://api.allorigins.win/raw?url=${encodeURIComponent(rssUrl)}`,
        `https://corsproxy.io/?${encodeURIComponent(rssUrl)}`,
        `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(rssUrl)}`
      ];
      
      for (const proxyUrl of proxies) {
        try {
          const response = await fetch(proxyUrl, { 
            signal: AbortSignal.timeout(5000) // 5ì´ˆ íƒ€ì„ì•„ì›ƒ
          });
          if (!response.ok) continue;
          
          const xmlText = await response.text();
          
          // XML íŒŒì‹± ì—ëŸ¬ ì²´í¬
          if (xmlText.includes('error') || xmlText.includes('Error') || !xmlText.includes('<entry>')) {
            continue;
          }
          
          const parser = new DOMParser();
          const xml = parser.parseFromString(xmlText, 'text/xml');
          
          const entries = xml.querySelectorAll('entry');
          if (!entries || entries.length === 0) continue;
          
          const videos = [];
          entries.forEach((entry, index) => {
            if (index >= MAX_RESULTS) return;
            
            // ë‹¤ì–‘í•œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì²˜ë¦¬
            const videoId = entry.querySelector('yt\\:videoId')?.textContent 
              || entry.getElementsByTagName('yt:videoId')[0]?.textContent;
            const title = entry.querySelector('title')?.textContent || '';
            const published = entry.querySelector('published')?.textContent || '';
            
            if (videoId) {
              videos.push({
                id: { videoId },
                snippet: {
                  title,
                  publishedAt: published,
                  thumbnails: { 
                    high: { url: `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg` },
                    medium: { url: `https://img.youtube.com/vi/${videoId}/mqdefault.jpg` }
                  }
                }
              });
            }
          });
          
          if (videos.length > 0) {
            console.log(`RSS í”¼ë“œ ë¡œë“œ ì„±ê³µ (${videos.length}ê°œ ì˜ìƒ)`);
            renderVideos(videos, {});
            return true;
          }
          
        } catch (error) {
          console.log('í”„ë¡ì‹œ ì‹¤íŒ¨:', proxyUrl.substring(0, 50));
          continue;
        }
      }
      
      console.log('ëª¨ë“  RSS í”„ë¡ì‹œ ì‹¤íŒ¨');
      return false;
    }
    
    // ë°ëª¨ ì˜ìƒ ë¡œë“œ (API ì‹¤íŒ¨ ì‹œ í´ë°±)
    function loadDemoVideos() {
      console.log('ìœ íŠœë¸Œ ì±„ë„ ë§í¬ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.');
      
      // ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ìœ íŠœë¸Œ ì±„ë„ ì•ˆë‚´ë¡œ ë³€ê²½
      errorState.querySelector('h3').textContent = 'ğŸ¬ ìœ íŠœë¸Œ ì±„ë„ ë°©ë¬¸í•˜ê¸°';
      errorState.querySelector('p').innerHTML = `
        ì„œìš¸ë¹„ë””ì¹˜ê³¼ ê³µì‹ ìœ íŠœë¸Œ ì±„ë„ì—ì„œ<br>
        ë” ë§ì€ ì¹˜ê³¼ ì •ë³´ ì˜ìƒì„ ë§Œë‚˜ë³´ì„¸ìš”!
      `;
      errorState.querySelector('.retry-btn').outerHTML = `
        <a href="https://www.youtube.com/@seoulbddental" target="_blank" class="retry-btn" style="text-decoration: none;">
          <i class="fab fa-youtube"></i> ìœ íŠœë¸Œ ì±„ë„ ë°”ë¡œê°€ê¸°
        </a>
      `;
      
      showError();
    }
    
    // ìˆì¸  ì—¬ë¶€ í™•ì¸ (60ì´ˆ ì´í•˜ ë˜ëŠ” ì œëª©ì— #shorts í¬í•¨)
    function isShorts(item, details) {
      const title = item.snippet?.title?.toLowerCase() || '';
      
      // ì œëª©ì— shorts í‚¤ì›Œë“œ í¬í•¨ ì‹œ ìˆì¸ 
      if (title.includes('#shorts') || title.includes('#short') || title.includes('ì‡¼ì¸ ')) {
        return true;
      }
      
      // duration ì •ë³´ê°€ ìˆìœ¼ë©´ 60ì´ˆ ì´í•˜ ì²´í¬
      if (details?.durationSeconds) {
        return details.durationSeconds <= 60;
      }
      
      // duration ë¬¸ìì—´ íŒŒì‹± (ì˜ˆ: "0:45", "1:00")
      if (details?.duration) {
        const parts = details.duration.split(':').map(Number);
        if (parts.length === 2) {
          const totalSeconds = parts[0] * 60 + parts[1];
          return totalSeconds <= 60;
        }
        if (parts.length === 1) {
          return parts[0] <= 60;
        }
      }
      
      return false;
    }
    
    // ì˜ìƒ ë Œë”ë§ (ìˆì¸  ì œì™¸)
    function renderVideos(items, detailsMap) {
      videosGrid.innerHTML = '';
      
      // ìˆì¸  í•„í„°ë§
      const longFormVideos = items.filter(item => {
        const videoId = item.id.videoId;
        const details = detailsMap[videoId] || {};
        return !isShorts(item, details);
      });
      
      // í•„í„°ë§ í›„ ì˜ìƒì´ ì—†ìœ¼ë©´ ì „ì²´ í‘œì‹œ (ì•ˆì „ì¥ì¹˜)
      const videosToShow = longFormVideos.length > 0 ? longFormVideos : items;
      
      if (longFormVideos.length < items.length) {
        console.log(`ìˆì¸  ${items.length - longFormVideos.length}ê°œ ì œì™¸, ë¡±í¼ ${longFormVideos.length}ê°œ í‘œì‹œ`);
      }
      
      videosToShow.forEach(item => {
        const videoId = item.id.videoId;
        const snippet = item.snippet;
        const details = detailsMap[videoId] || {};
        
        const card = document.createElement('article');
        card.className = 'video-card';
        card.onclick = () => openVideoModal(videoId);
        
        // ì¸ë„¤ì¼ URL (ê³ í™”ì§ˆ ìš°ì„ )
        const thumbnail = snippet.thumbnails?.maxres?.url 
          || snippet.thumbnails?.high?.url 
          || snippet.thumbnails?.medium?.url
          || snippet.thumbnails?.default?.url;
        
        card.innerHTML = `
          <div class="video-thumbnail">
            <img src="${thumbnail}" alt="${snippet.title}" loading="lazy">
            <div class="video-play-btn">
              <i class="fas fa-play"></i>
            </div>
            ${details.duration ? `<span class="video-duration">${details.duration}</span>` : ''}
          </div>
          <div class="video-content">
            <h3 class="video-title">${snippet.title}</h3>
            <div class="video-meta">
              <span class="video-date">${formatDate(snippet.publishedAt)}</span>
              <div class="video-stats">
                ${details.viewCount ? `
                  <span class="video-stat">
                    <i class="fas fa-eye"></i>
                    ${formatViewCount(details.viewCount)}
                  </span>
                ` : ''}
              </div>
            </div>
          </div>
        `;
        
        videosGrid.appendChild(card);
      });
      
      showContent();
    }
    
    // ëª¨ë‹¬ ì—´ê¸°
    function openVideoModal(videoId) {
      videoIframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
      videoModal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    // ëª¨ë‹¬ ë‹«ê¸°
    function closeVideoModal() {
      videoIframe.src = '';
      videoModal.classList.remove('active');
      document.body.style.overflow = '';
    }
    
    // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
    videoModal.addEventListener('click', (e) => {
      if (e.target === videoModal) {
        closeVideoModal();
      }
    });
    
    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && videoModal.classList.contains('active')) {
        closeVideoModal();
      }
    });
    
    // ìƒíƒœ í‘œì‹œ í•¨ìˆ˜ë“¤
    function showLoading() {
      loadingState.style.display = 'block';
      errorState.style.display = 'none';
      emptyState.style.display = 'none';
      videosGrid.style.display = 'none';
    }
    
    function showError() {
      loadingState.style.display = 'none';
      errorState.style.display = 'block';
      emptyState.style.display = 'none';
      videosGrid.style.display = 'none';
    }
    
    function showEmpty() {
      loadingState.style.display = 'none';
      errorState.style.display = 'none';
      emptyState.style.display = 'block';
      videosGrid.style.display = 'none';
    }
    
    function showContent() {
      loadingState.style.display = 'none';
      errorState.style.display = 'none';
      emptyState.style.display = 'none';
      videosGrid.style.display = 'grid';
    }
    
    // ISO 8601 duration íŒŒì‹± (PT1H2M3S â†’ 1:02:03)
    function parseDuration(duration) {
      if (!duration) return '';
      const match = duration.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);
      if (!match) return '';
      
      const hours = parseInt(match[1]) || 0;
      const minutes = parseInt(match[2]) || 0;
      const seconds = parseInt(match[3]) || 0;
      
      if (hours > 0) {
        return `${hours}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
      }
      return `${minutes}:${String(seconds).padStart(2, '0')}`;
    }
    
    // ISO 8601 duration â†’ ì´ˆ ë‹¨ìœ„ ë³€í™˜ (ìˆì¸  í•„í„°ë§ìš©)
    function parseDurationToSeconds(duration) {
      if (!duration) return null;
      const match = duration.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);
      if (!match) return null;
      
      const hours = parseInt(match[1]) || 0;
      const minutes = parseInt(match[2]) || 0;
      const seconds = parseInt(match[3]) || 0;
      
      return hours * 3600 + minutes * 60 + seconds;
    }
    
    // ë‚ ì§œ í¬ë§·
    function formatDate(dateString) {
      const date = new Date(dateString);
      if (isNaN(date)) return '';
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      return `${year}-${month}-${day}`;
    }
    
    // ì¡°íšŒìˆ˜ í¬ë§· (1234567 â†’ 123.4ë§Œ)
    function formatViewCount(count) {
      const num = parseInt(count);
      if (num >= 10000) {
        return (num / 10000).toFixed(1) + 'ë§Œ';
      } else if (num >= 1000) {
        return (num / 1000).toFixed(1) + 'ì²œ';
      }
      return num.toLocaleString();
    }
    
    // ì´ˆê¸° ë¡œë“œ
    document.addEventListener('DOMContentLoaded', loadVideos);
  </script>
</body>
</html>
